# 後台管理系統使用說明

## 📋 系統概述

後台管理系統讓管理員可以輕鬆更新即時顯示系統的內容，包括標題、內容、圖片和轉場效果。

## 🔐 訪問後台

- **URL**: http://localhost:3001/admin
- **需要**: 管理員 Token (設定在環境變數 `ADMIN_TOKEN` 中)

## 📝 功能說明

### 1. 基本內容管理

#### 管理員 Token
- 必填欄位，用於驗證管理員身份
- 需要與服務端的 `ADMIN_TOKEN` 環境變數匹配

#### 標題
- 顯示在內容卡片上方的主標題
- 建議長度：1-50 字元

#### 內容
- 顯示在標題下方的詳細描述
- 支援多行文字
- 建議長度：10-200 字元

#### 圖片 URL
- 內容卡片的主圖片
- 必須是有效的 URL (http:// 或 https://)
- 支援即時預覽
- 建議尺寸：1200x630 像素

### 2. 轉場效果設定

系統支援四種轉場效果：

#### Fade (淡入淡出)
- 簡單的透明度變化
- 適合大部分內容
- 參數：持續時間 (100-3000 毫秒)

#### Slide (滑動)
- 內容從指定方向滑入
- 參數：
  - 方向：左、右、上、下
  - 持續時間 (100-3000 毫秒)

#### Scale (縮放)
- 內容縮放進入效果
- 適合強調重要內容
- 參數：持續時間 (100-3000 毫秒)

#### Custom (自定義)
- 可設定自定義效果名稱
- 用於未來擴展或特殊需求
- 參數：
  - 效果名稱
  - 持續時間 (100-3000 毫秒)

### 3. 輔助功能

#### 載入當前內容
- 點擊右上角「載入當前內容」按鈕
- 自動填入目前正在顯示的內容
- 方便進行微調或更新

#### 快速範本
- **歡迎訊息**：適合系統開機或重啟時使用
- **更新通知**：適合系統維護或更新時使用
- 點擊即可快速填入預設內容

## 🚀 操作流程

### 發佈新內容
1. 輸入管理員 Token
2. 填寫標題和內容
3. 輸入圖片 URL (會顯示即時預覽)
4. 選擇轉場效果並調整參數
5. 點擊「發佈內容」按鈕
6. 等待發佈成功提示

### 更新現有內容
1. 點擊「載入當前內容」按鈕
2. 修改需要更新的欄位
3. 調整轉場效果 (如需要)
4. 點擊「發佈內容」按鈕

## ⚠️ 注意事項

### 安全性
- 管理員 Token 是敏感資訊，請妥善保管
- 建議定期更換 Token
- 不要在瀏覽器中儲存 Token

### 圖片要求
- 圖片必須是公開可訪問的 URL
- 建議使用 HTTPS 協議
- 建議使用 CDN 或圖床服務
- 檔案大小建議不超過 2MB

### 內容建議
- 標題簡潔明瞭，避免過長
- 內容描述清楚，避免使用特殊字元
- 轉場效果持續時間建議 400-800 毫秒

## 🔧 技術細節

### API 端點
- **發佈內容**: `POST /api/content/publish`
- **取得當前內容**: `GET /api/content/current`
- **即時串流**: `GET /api/stream` (SSE)

### 資料格式
```json
{
  "title": "內容標題",
  "body": "內容描述",
  "imageUrl": "https://example.com/image.jpg",
  "effect": {
    "type": "fade",
    "duration": 400
  }
}
```

### 錯誤處理
- **401 Unauthorized**: Token 錯誤或過期
- **400 Bad Request**: 資料格式錯誤
- **500 Internal Server Error**: 服務器錯誤

## 📊 即時更新

發佈的內容會立即透過 Server-Sent Events (SSE) 推送到所有連接的顯示端，實現真正的即時更新。

### 更新流程
1. 管理員發佈內容 → 
2. 內容儲存到 Redis → 
3. 透過 SSE 廣播到所有客戶端 → 
4. 顯示端即時更新

## 🎯 最佳實踐

### 內容發佈
- 在非繁忙時段發佈重要更新
- 先在測試環境驗證內容格式
- 準備好後備內容以應對緊急情況

### 圖片管理
- 使用可靠的圖片託管服務
- 預先測試圖片 URL 的可訪問性
- 準備多種尺寸的圖片以適應不同螢幕

### 效果使用
- 重要通知使用較慢的轉場 (800ms+)
- 一般更新使用中等速度 (400-600ms)
- 頻繁更新使用較快轉場 (200-400ms)

## 📱 多端適配

系統支援響應式設計，發佈的內容會自動適配：
- 桌面顯示器
- 平板電腦
- 手機螢幕
- 大型顯示螢幕

## 🛠️ 故障排除

### 常見問題
1. **Token 驗證失敗**：檢查環境變數設定
2. **圖片無法顯示**：檢查 URL 格式和網路連線
3. **內容未更新**：檢查 SSE 連線狀態
4. **轉場效果異常**：檢查參數設定是否正確

### 緊急情況
如遇系統異常，可以：
1. 重新載入頁面
2. 清空表單重新填寫
3. 使用快速範本恢復基本功能
4. 聯繫技術支援

這個後台管理系統提供了完整的內容管理功能，讓非技術人員也能輕鬆操作即時顯示系統。